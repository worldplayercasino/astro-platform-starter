---
import Logo from '../components/Logo.astro';

const navItems = [
  { linkText: 'Home', href: '/' },
  { linkText: 'Online Casino', href: '/revalidation' },
  { linkText: 'Promotion', href: '/image-cdn' },
  { linkText: 'About Us', href: '/edge' },
];

const normalize = (path) => path.replace(/\/+$/, '').toLowerCase() || '/';
const currentPath = normalize(Astro.url.pathname);
---

<nav class="flex flex-wrap items-center pt-6 pb-16 sm:pt-12 sm:pb-24">
  <!-- Logo + Text -->
  <a href="/" class="flex items-center gap-1.5">
    <Logo />
    <div class="text-lg sm:text-xl font-semibold leading-tight">
      <span class="text-white font-bold">World Players</span>
      <span class="text-gray-300 font-normal">Club</span>
    </div>
  </a>

  <!-- Navigation Links -->
  {
    !!navItems?.length && (
      <ul class="flex flex-wrap gap-x-6 ml-auto text-sm sm:text-base font-medium">
        {navItems.map((item) => {
          const isActive = currentPath === normalize(item.href);

          return (
            <li class="relative">
              <a
                href={item.href}
                class={`flex items-center gap-1.5 px-1.5 py-1 sm:px-3 sm:py-2 
                  ${isActive ? 'text-white font-semibold' : 'text-gray-400 hover:text-white'} 
                  no-underline`}
                style="text-decoration: none;"
              >
                {item.linkText}
                {isActive && (
                  <svg class="w-3 h-3 text-white mt-[2px]" fill="none" stroke="currentColor" stroke-width="2"
                    viewBox="0 0 24 24">
                    <path d="M19 9l-7 7-7-7" />
                  </svg>
                )}
              </a>

              {isActive && (
                <span class="absolute left-0 -bottom-1 w-full h-[2px] bg-yellow-500 rounded"></span>
              )}
            </li>
          );
        })}
      </ul>
    )
  }
</nav>
