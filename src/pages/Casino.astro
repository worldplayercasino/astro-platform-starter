---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Casino">

  <!-- Game content wrapper -->
  <div id="orientation-lock" class="relative w-full h-full">

    <!-- Orientation Blocker -->
    <div id="portrait-blocker" class="fixed inset-0 z-50 bg-black text-white flex flex-col items-center justify-center text-center px-6 hidden">
      <h2 class="text-2xl font-bold mb-4">Please rotate your device</h2>
      <p class="text-base text-gray-300">This game is best experienced in landscape mode.</p>
    </div>

    <!-- Game iframe -->
    <!-- Game iframe -->
    <h1 class="text-center text-4xl font-bold my-10">Welcome to the Casino</h1>
    <div class="flex flex-col items-center">
      <iframe
        src="/unity/index.html"
        width="1000"
        height="700"
        allow="fullscreen"
        class="border border-gray-300 rounded-lg"
      ></iframe>

      <!-- Play on Itch.io Button -->
      <a 
        href="https://yourgame.itch.io/casino" 
        target="_blank" 
        class="mt-6 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-lg transition"
      >
        ðŸŽ® Play on Itch.io
      </a>
    </div>

  <!-- Orientation detection script -->
  <script is:inline>
    function handleOrientation() {
      const blocker = document.getElementById('portrait-blocker');
      const isPortrait = window.innerHeight > window.innerWidth;
      const isMobile = window.innerWidth < 768;
      if (isPortrait && isMobile) {
        blocker.classList.remove('hidden');
      } else {
        blocker.classList.add('hidden');
      }
    }

    window.addEventListener('load', handleOrientation);
    window.addEventListener('resize', handleOrientation);
    window.addEventListener('orientationchange', handleOrientation);
  </script>

</Layout>



<style>
  #rotate-warning {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    color: white;
    font-size: 1.5rem;
    z-index: 9999;
    justify-content: center;
    align-items: center;
    text-align: center;
  }
</style>
<div id="rotate-warning">For the best experience, please enable auto-rotate and turn your device to landscape mode.</div>

<script>
  function checkOrientation() {
    const warning = document.getElementById('rotate-warning');
    if (window.innerHeight > window.innerWidth) {
      warning.style.display = 'flex';
    } else {
      warning.style.display = 'none';
    }
  }
  window.addEventListener('resize', checkOrientation);
  window.addEventListener('orientationchange', checkOrientation);
  window.addEventListener('load', checkOrientation);
</script>







